#! /usr/bin/env node
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const minify_1=require("./scripts/minify");process.stdout.write(`::: minifier v${require("../package.json").version} :::\n`);const argv=process.argv;let dir=process.argv[2]||"./";const options={infoLog:!0,js:!0,css:!0,html:!0};for(let s=0,i=argv.length;s<i;s++){const r=argv[s];if("-ignore"===r||"-i"===r)for(let r=s+1;r<i;r++){const s=argv[r];if(0===s.indexOf("-"))break;switch(s){case"js":options.js=!1;break;case"css":options.css=!1;break;case"html":options.html=!1}}}process.stdout.write(`${JSON.stringify(options)}\n`);try{(0,minify_1.minify)(dir,options).catch((s=>{process.stderr.write(`${String(s)}\n`)})).finally((()=>{process.stdout.write("minify fin.\n")}))}catch(s){process.stderr.write(`${String(s)}\n`),process.stdout.write("minify failed fin.\n")}