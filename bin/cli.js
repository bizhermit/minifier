#! /usr/bin/env node
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const minify_1=require("./scripts/minify"),title=`::: minifier (v${require("../package.json").version}) :::`;process.stdout.write(`${title}\n`);const argv=process.argv;let dir=null;const options={infoLog:!0,js:!0,css:!0,html:!0};for(let s=0,i=argv.length;s<i;s++){const t=argv[s];if("-s"!==t){if("-ignore"===t||"-i"===t)for(let t=s+1;t<i;t++){const s=argv[t];if(0===s.indexOf("-"))break;switch(s){case"js":options.js=!1;break;case"css":options.css=!1;break;case"html":options.html=!1}}}else dir=argv[s+1]}process.stdout.write(`${JSON.stringify(options)}\n`);try{(0,minify_1.minify)(dir,options).catch((s=>{process.stderr.write(`${String(s)}\n`)})).finally((()=>{process.stdout.write("minify fin.\n")}))}catch(s){process.stderr.write(`${String(s)}\n`),process.stdout.write("minify failed fin.\n")}